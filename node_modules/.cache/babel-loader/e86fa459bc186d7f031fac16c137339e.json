{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect,useState}from'react';import{Helmet}from'react-helmet';import ApiController from'../../api';import Loader from'../../components/Loader';import styled from'styled-components';import{device}from'../../utils/media';import Pagination from\"react-js-pagination\";import{PostContent}from'./PostContent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Api=new ApiController();var PrensaPrerender=function PrensaPrerender(){window.prerenderReady=true;return/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"SkyAlert Prensa\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"SkyAlert en los medios\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:url\",content:\"./prensa\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:\"SkyAlert en los medios\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:image\",content:\"img/logo.png\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1, shrink-to-fit=no\"})]});};var Content=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin : 3rem;\\n  .paginated{\\n    width:100%;\\n    padding: 0rem 4rem 2rem;\\n    @media \",\" {\\n      padding: 3rem 3rem 2rem;\\n      margin-bottom:5vh;\\n      margin-top:5vh;\\n      width:50%;\\n      // max-width: 300px;\\n      //  overflow-x: scroll;\\n    }\\n    @media \",\" {\\n      padding: 3rem 3rem 2rem;\\n      margin-bottom:5vh;\\n      margin-top:5vh;\\n      width:50%;\\n      // max-width: 300px;\\n      // overflow-x: scroll;\\n    }\\n    li{\\n      background: white;\\n      display: inline;\\n      padding: 10px 15px;\\n      color: black;\\n      -webkit-text-decoration: none;\\n      text-decoration: none;\\n      list-style: none;\\n      margin: .5rem;\\n\\n      \\n      a{\\n        text-decoration: none;\\n        color: black;\\n        font-size: 1.5rem;\\n\\n      }\\n    }\\n    li.active{\\n      background: #f47d55;\\n    }\\n    li.active a{\\n      color:white !important;\\n    }\\n  }\\n\\n  .totalPost{\\n    width:100%;\\n    padding: 0rem 3rem 2rem;\\n    @media \",\" {\\n      width:50%;\\n      padding: 3rem 3rem 2rem;\\n      margin-bottom:5vh;\\n      margin-top:5vh;\\n    }\\n    @media \",\" {\\n      width:50%;\\n      padding: 3rem 3rem 2rem;\\n      margin-bottom:5vh;\\n      margin-top:5vh;\\n    }\\n  }\\n\"])),device.laptop,device.tablet,device.laptop,device.tablet);var EPP=4;export var Posts=function Posts(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),articles=_useState4[0],setArticles=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),totalPost=_useState6[0],setTotalPost=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),totalPage=_useState8[0],setTotalPage=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),activePage=_useState10[0],setActivePage=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),postRangeInitial=_useState12[0],setPostRangeInitial=_useState12[1];var _useState13=useState(EPP),_useState14=_slicedToArray(_useState13,2),postRangeFinal=_useState14[0],setPostRangeFinal=_useState14[1];var getAllPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(page){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Api.getAllArticlesPaged(page);case 3:response=_context.sent;console.log(response.data.articles);setArticles(function(){return response.data.articles;});setTotalPost(response.total);setTotalPage(Math.ceil(20/EPP));setIsLoading(false);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('Could not retrieve articles',_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getAllPost(_x){return _ref.apply(this,arguments);};}();var handlePageChange=function handlePageChange(activePage){if(activePage){setPostRangeFinal(EPP*activePage);}getAllPost(activePage);setActivePage(activePage);};useEffect(function(){getAllPost();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"prensa-container02\",children:[PrensaPrerender(),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"prensa-container03\",children:articles.map(function(article,index){return/*#__PURE__*/_jsx(PostContent,{article:article},index);})}),/*#__PURE__*/_jsxs(Content,{className:\"prensa-container03\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"totalPost\",children:[\"Mostrando  \",/*#__PURE__*/_jsx(\"span\",{children:postRangeInitial}),\" - \",/*#__PURE__*/_jsx(\"span\",{children:postRangeFinal}),\" post en \",totalPost]}),/*#__PURE__*/_jsx(\"div\",{className:\"paginated\",children:/*#__PURE__*/_jsx(Pagination,{activePage:activePage,itemsCountPerPage:EPP,totalItemsCount:totalPost,pageRangeDisplayed:totalPage,onChange:handlePageChange})})]})]})]})});};","map":{"version":3,"names":["React","useEffect","useState","Helmet","ApiController","Loader","styled","device","Pagination","PostContent","Api","PrensaPrerender","window","prerenderReady","Content","div","laptop","tablet","EPP","Posts","isLoading","setIsLoading","articles","setArticles","totalPost","setTotalPost","totalPage","setTotalPage","activePage","setActivePage","postRangeInitial","setPostRangeInitial","postRangeFinal","setPostRangeFinal","getAllPost","page","getAllArticlesPaged","response","console","log","data","total","Math","ceil","error","handlePageChange","map","article","index"],"sources":["/Users/mac/Desktop/sky/skyalert-New/src/components/Posts/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Helmet } from 'react-helmet'\r\nimport ApiController from '../../api';\r\nimport Loader from '../../components/Loader';\r\nimport styled from 'styled-components';\r\nimport { device } from '../../utils/media';\r\nimport Pagination from \"react-js-pagination\";\r\nimport { PostContent } from './PostContent';\r\n\r\nconst Api = new ApiController();\r\n\r\nconst PrensaPrerender = () => {\r\n  window.prerenderReady = true;\r\n  return (\r\n    <Helmet>\r\n      <title>SkyAlert Prensa</title>\r\n      <meta name=\"description\" content=\"SkyAlert en los medios\" />\r\n      <meta property=\"og:url\" content=\"./prensa\" />\r\n      <meta property=\"og:title\" content=\"SkyAlert en los medios\" />\r\n      <meta property=\"og:image\" content=\"img/logo.png\" />\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n    </Helmet>\r\n  );\r\n};\r\n\r\nconst Content = styled.div`\r\n  margin : 3rem;\r\n  .paginated{\r\n    width:100%;\r\n    padding: 0rem 4rem 2rem;\r\n    @media ${device.laptop} {\r\n      padding: 3rem 3rem 2rem;\r\n      margin-bottom:5vh;\r\n      margin-top:5vh;\r\n      width:50%;\r\n      // max-width: 300px;\r\n      //  overflow-x: scroll;\r\n    }\r\n    @media ${device.tablet} {\r\n      padding: 3rem 3rem 2rem;\r\n      margin-bottom:5vh;\r\n      margin-top:5vh;\r\n      width:50%;\r\n      // max-width: 300px;\r\n      // overflow-x: scroll;\r\n    }\r\n    li{\r\n      background: white;\r\n      display: inline;\r\n      padding: 10px 15px;\r\n      color: black;\r\n      -webkit-text-decoration: none;\r\n      text-decoration: none;\r\n      list-style: none;\r\n      margin: .5rem;\r\n\r\n      \r\n      a{\r\n        text-decoration: none;\r\n        color: black;\r\n        font-size: 1.5rem;\r\n\r\n      }\r\n    }\r\n    li.active{\r\n      background: #f47d55;\r\n    }\r\n    li.active a{\r\n      color:white !important;\r\n    }\r\n  }\r\n\r\n  .totalPost{\r\n    width:100%;\r\n    padding: 0rem 3rem 2rem;\r\n    @media ${device.laptop} {\r\n      width:50%;\r\n      padding: 3rem 3rem 2rem;\r\n      margin-bottom:5vh;\r\n      margin-top:5vh;\r\n    }\r\n    @media ${device.tablet} {\r\n      width:50%;\r\n      padding: 3rem 3rem 2rem;\r\n      margin-bottom:5vh;\r\n      margin-top:5vh;\r\n    }\r\n  }\r\n`;\r\n\r\nconst EPP = 4;\r\n\r\nexport const Posts = () => {\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [articles, setArticles] = useState([]);\r\n  const [totalPost, setTotalPost] = useState([]);\r\n  const [totalPage, setTotalPage] = useState([]);\r\n  const [activePage, setActivePage] = useState(1);\r\n  const [postRangeInitial, setPostRangeInitial] = useState(1);\r\n  const [postRangeFinal, setPostRangeFinal] = useState(EPP);\r\n\r\n  const getAllPost = async (page) => {\r\n\r\n    try {\r\n\r\n      const response = await Api.getAllArticlesPaged(page);\r\n      console.log(response.data.articles);\r\n      setArticles(() => response.data.articles);\r\n      setTotalPost(response.total);\r\n      setTotalPage(Math.ceil(20 / EPP));\r\n      setIsLoading(false);\r\n\r\n    } catch (e) {\r\n      console.error('Could not retrieve articles', e);\r\n    }\r\n  }\r\n\r\n  const handlePageChange = (activePage) => {\r\n\r\n    if (activePage) {\r\n      setPostRangeFinal(EPP * activePage);\r\n    }\r\n\r\n    getAllPost(activePage);\r\n    setActivePage(activePage);\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllPost();\r\n  }, []);\r\n\r\n  return (<>\r\n    <div className='prensa-container02'>\r\n      {PrensaPrerender()}\r\n      {isLoading\r\n        ? (< Loader />)\r\n        : (\r\n          <>\r\n          <div className='prensa-container03'>\r\n            {articles.map((article, index) => <PostContent key={index} article={article} />)}\r\n              {/* {articles.map((article, index) => <h1>{article.title}</h1>)} */}\r\n\r\n          </div>\r\n          <Content className='prensa-container03'>\r\n            <div className=\"totalPost\">\r\n              Mostrando  <span>{postRangeInitial}</span> - <span>{postRangeFinal}</span> post en {totalPost}\r\n            </div>\r\n            <div className=\"paginated\">\r\n              <Pagination\r\n                activePage={activePage}\r\n                itemsCountPerPage={EPP}\r\n                totalItemsCount={totalPost}\r\n                pageRangeDisplayed={totalPage}\r\n                onChange={handlePageChange}\r\n              />\r\n            </div>\r\n          </Content>\r\n          </>\r\n        )\r\n      }\r\n    </div>\r\n  </>)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}