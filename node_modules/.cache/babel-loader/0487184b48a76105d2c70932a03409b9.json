{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import Schema from'../utils/schema';import BaseModel from'../utils/basemodel';import SkyAlertAPI from'../api/SkyAlertAPI';/**\r\n * @const\r\n * Array of image types\r\n */var TYPES=['Image','SocialMedia','Video'];var TYPELABELS=['Imagen','Social Media','Video'];/**\r\n * @const\r\n * Schema to validate the class\r\n */var schema=new Schema({/* Move to generic Schema */_id:{type:String},id:{type:String},createdAt:{type:String},updatedAt:{type:String},score:{type:Number},/* Request removal */__v:{type:Number},/* Specific properties */type:{type:String,enum:TYPES,editable:true,label:'Tipo (Seleccionar \"imagen\")',enumLabels:TYPES.map(function(role,index){return{value:TYPES[index],text:TYPELABELS[index]};})},_searchText:{type:String},description:{type:String,editable:true,label:'Descripción'},pic:new Schema({filename:{type:String},exists:{type:Boolean},mime:{type:String},size:new Schema({width:{type:Number},height:{type:Number}}),focus:new Schema({left:{type:Number},top:{type:Number},width:{type:Number},height:{type:Number}})})});/**\r\n * @class Image\r\n */var Image=/*#__PURE__*/function(_BaseModel){_inherits(Image,_BaseModel);var _super=_createSuper(Image);/**\r\n   * Creates an instance of Image.\r\n   * @param {Object} image\r\n   * @memberof Image\r\n   */function Image(image){var _this;_classCallCheck(this,Image);_this=_super.call(this,schema,'image');try{Object.keys(image).forEach(function(key){_this[key]=image[key];});}catch(error){console.error(error);}return _this;}/**\r\n   * Returns a URL to the pic\r\n   * of the image\r\n   * @returns String\r\n   * @memberof Image\r\n   */_createClass(Image,[{key:\"getPic\",value:function getPic(){var id=this.id||this._id;if(!id)return null;return SkyAlertAPI.getPicURL(id,this.alias);}/**\r\n   * Returns a URL to the thumbnail\r\n   * of the image\r\n   * @returns String\r\n   * @memberof Image\r\n   */},{key:\"getThumb\",value:function getThumb(){var id=this.id||this._id;if(!id)return null;return SkyAlertAPI.getThumbURL(id,this.alias);}}]);return Image;}(BaseModel);/**\r\n * New validator to validate the Schema\r\n */ // const validator = new Validator(schema);\n/**\r\n * New object with proxy to control the setter and constructor\r\n */ /* const ProxyImage = validator.generateProxy(Image);\r\n\r\nexport default ProxyImage; */export default Image;","map":{"version":3,"names":["Schema","BaseModel","SkyAlertAPI","TYPES","TYPELABELS","schema","_id","type","String","id","createdAt","updatedAt","score","Number","__v","enum","editable","label","enumLabels","map","role","index","value","text","_searchText","description","pic","filename","exists","Boolean","mime","size","width","height","focus","left","top","Image","image","Object","keys","forEach","key","error","console","getPicURL","alias","getThumbURL"],"sources":["/Users/mac/Desktop/sky/skyalert-New/src/utils/mediaImage.js"],"sourcesContent":["import Schema from '../utils/schema';\r\nimport BaseModel from '../utils/basemodel';\r\nimport SkyAlertAPI from '../api/SkyAlertAPI';\r\n\r\n/**\r\n * @const\r\n * Array of image types\r\n */\r\nconst TYPES = ['Image', 'SocialMedia', 'Video'];\r\nconst TYPELABELS = ['Imagen', 'Social Media', 'Video'];\r\n\r\n/**\r\n * @const\r\n * Schema to validate the class\r\n */\r\nconst schema = new Schema({\r\n  /* Move to generic Schema */\r\n  _id: {\r\n    type: String,\r\n  },\r\n  id: {\r\n    type: String,\r\n  },\r\n  createdAt: {\r\n    type: String,\r\n  },\r\n  updatedAt: {\r\n    type: String,\r\n  },\r\n  score: {\r\n    type: Number,\r\n  },\r\n  /* Request removal */\r\n  __v: {\r\n    type: Number,\r\n  },\r\n  /* Specific properties */\r\n  type: {\r\n    type: String,\r\n    enum: TYPES,\r\n    editable: true,\r\n    label: 'Tipo (Seleccionar \"imagen\")',\r\n    enumLabels: TYPES.map((role, index) => ({ value: TYPES[index], text: TYPELABELS[index] })),\r\n  },\r\n  _searchText: {\r\n    type: String,\r\n  },\r\n  description: {\r\n    type: String,\r\n    editable: true,\r\n    label: 'Descripción',\r\n  },\r\n  pic: new Schema({\r\n    filename: {\r\n      type: String,\r\n    },\r\n    exists: {\r\n      type: Boolean,\r\n    },\r\n    mime: {\r\n      type: String,\r\n    },\r\n    size: new Schema({\r\n      width: {\r\n        type: Number,\r\n      },\r\n      height: {\r\n        type: Number,\r\n      },\r\n    }),\r\n    focus: new Schema({\r\n      left: {\r\n        type: Number,\r\n      },\r\n      top: {\r\n        type: Number,\r\n      },\r\n      width: {\r\n        type: Number,\r\n      },\r\n      height: {\r\n        type: Number,\r\n      },\r\n    }),\r\n  }),\r\n});\r\n\r\n\r\n/**\r\n * @class Image\r\n */\r\nclass Image extends BaseModel {\r\n  /**\r\n   * Creates an instance of Image.\r\n   * @param {Object} image\r\n   * @memberof Image\r\n   */\r\n  constructor(image) {\r\n    super(schema, 'image');\r\n    try{\r\n    Object.keys(image).forEach((key) => {\r\n      this[key] = image[key];\r\n    });\r\n    }catch(error){\r\n      console.error(error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns a URL to the pic\r\n   * of the image\r\n   * @returns String\r\n   * @memberof Image\r\n   */\r\n  getPic() {\r\n    const id = this.id || this._id;\r\n\r\n    if (!id) return null;\r\n\r\n    return SkyAlertAPI.getPicURL(id, this.alias);\r\n  }\r\n\r\n  /**\r\n   * Returns a URL to the thumbnail\r\n   * of the image\r\n   * @returns String\r\n   * @memberof Image\r\n   */\r\n  getThumb() {\r\n    const id = this.id || this._id;\r\n\r\n    if (!id) return null;\r\n\r\n    return SkyAlertAPI.getThumbURL(id, this.alias);\r\n  }\r\n}\r\n\r\n/**\r\n * New validator to validate the Schema\r\n */\r\n// const validator = new Validator(schema);\r\n\r\n/**\r\n * New object with proxy to control the setter and constructor\r\n */\r\n/* const ProxyImage = validator.generateProxy(Image);\r\n\r\nexport default ProxyImage; */\r\n\r\nexport default Image;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}