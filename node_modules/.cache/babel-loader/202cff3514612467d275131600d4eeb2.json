{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import Validator from'../utils/validator';import Schema from'../utils/schema';import BaseModel from'../utils/basemodel';/**\n * @const\n * Constant array with the two possible values for type\n */var TYPES=['Image','SocialMedia','Video'];var NETWORK=['facebook','twitter','instagram','socialmedia','youtube'];/**\n * @const\n * Schema to validate the class\n */var schema=new Schema({type:{type:String,enum:TYPES},text:{type:String},url:{type:String},network:{type:String},_searchText:{type:String,enum:NETWORK}});/**\n * Class to manage the Media object\n * @class Media\n */var SocialMedia=/*#__PURE__*/function(_BaseModel){_inherits(SocialMedia,_BaseModel);var _super=_createSuper(SocialMedia);/**\n   * Creates an instance of SocialMedia.\n   * @param {any} media\n   * @memberof SocialMedia\n   */function SocialMedia(media){var _this;_classCallCheck(this,SocialMedia);_this=_super.call(this,schema,'media');Object.keys(media).forEach(function(key){_this[key]=media[key];});return _this;}/* youtube */_createClass(SocialMedia,[{key:\"getYouTubeId\",value:function getYouTubeId(){if(this.network==='youtube'){var regexp=/^((?:https?:)?\\/\\/)?((?:www|m)\\.)?((?:youtube\\.com|youtu.be))(\\/(?:[\\w-]+\\?v=|embed\\/|v\\/)?)([\\w-]+)(\\S+)?$/;var match=regexp.exec(this.url);var ytId=match[5];return ytId;}return null;}},{key:\"getYouTubeThumb\",value:function getYouTubeThumb(){var quality=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'hq';var ytId=this.getYouTubeId();if(ytId){switch(quality){case'full':return\"https://img.youtube.com/vi/\".concat(ytId,\"/maxresdefault.jpg\");case'hq':return\"https://img.youtube.com/vi/\".concat(ytId,\"/hqdefault.jpg\");case'mq':return\"https://img.youtube.com/vi/\".concat(ytId,\"/mqdefault.jpg\");default:return null;}}return null;}},{key:\"getYouTubeEmbed\",value:function getYouTubeEmbed(){var width=arguments.length>0&&arguments[0]!==undefined?arguments[0]:350;var height=arguments.length>1&&arguments[1]!==undefined?arguments[1]:350;var ytId=this.getYouTubeId();if(ytId){return\"<iframe width=\\\"\".concat(width,\"\\\" height=\\\"\").concat(height,\"\\\" src=\\\"https://www.youtube.com/embed/\").concat(ytId,\"?rel=0&amp;controls=1&amp;showinfo=0\\\" frameborder=\\\"0\\\" allow=\\\"autoplay; encrypted-media\\\" allowfullscreen></iframe>\");}return null;}},{key:\"getTwitterId\",value:function getTwitterId(){if(this.network==='twitter'){var regexp=/https?:\\/\\/twitter.com\\/[a-zA-Z_0-9]{1,20}\\/status\\/([0-9]*)/;var match=regexp.exec(this.url);var twitterId=match[1];return twitterId;}return null;}}]);return SocialMedia;}(BaseModel);/**\n * New validator to validate the schema\n */ // const validator = new Validator(schema);\n/**\n * New object with proxy to control the setter and constructor\n */ /* const ProxyMedia = validator.generateProxy(SocialMedia);\n\nexport default ProxyMedia; */export default SocialMedia;","map":{"version":3,"names":["Validator","Schema","BaseModel","TYPES","NETWORK","schema","type","String","enum","text","url","network","_searchText","SocialMedia","media","Object","keys","forEach","key","regexp","match","exec","ytId","quality","getYouTubeId","width","height","twitterId"],"sources":["/Users/mac/Desktop/sky/skyalert-New/src/models/SocialMedia.js"],"sourcesContent":["import Validator from '../utils/validator';\nimport Schema from '../utils/schema';\nimport BaseModel from '../utils/basemodel';\n\n/**\n * @const\n * Constant array with the two possible values for type\n */\nconst TYPES = ['Image', 'SocialMedia', 'Video'];\n\nconst NETWORK = ['facebook', 'twitter', 'instagram', 'socialmedia', 'youtube'];\n\n/**\n * @const\n * Schema to validate the class\n */\nconst schema = new Schema({\n  type: {\n    type: String,\n    enum: TYPES,\n  },\n  text: {\n    type: String,\n  },\n  url: {\n    type: String,\n  },\n  network: {\n    type: String,\n  },\n  _searchText: {\n    type: String,\n    enum: NETWORK,\n  },\n});\n\n/**\n * Class to manage the Media object\n * @class Media\n */\nclass SocialMedia extends BaseModel {\n  /**\n   * Creates an instance of SocialMedia.\n   * @param {any} media\n   * @memberof SocialMedia\n   */\n  constructor(media) {\n    super(schema, 'media');\n    Object.keys(media).forEach((key) => {\n      this[key] = media[key];\n    });\n  }\n\n  /* youtube */\n\n  getYouTubeId() {\n    if (this.network === 'youtube') {\n      const regexp = /^((?:https?:)?\\/\\/)?((?:www|m)\\.)?((?:youtube\\.com|youtu.be))(\\/(?:[\\w-]+\\?v=|embed\\/|v\\/)?)([\\w-]+)(\\S+)?$/;\n      const match = regexp.exec(this.url);\n      const ytId = match[5];\n      return ytId;\n    }\n    return null;\n  }\n\n  getYouTubeThumb(quality = 'hq') {\n    const ytId = this.getYouTubeId();\n    if (ytId) {\n      switch (quality) {\n      case 'full':\n        return `https://img.youtube.com/vi/${ytId}/maxresdefault.jpg`;\n      case 'hq':\n        return `https://img.youtube.com/vi/${ytId}/hqdefault.jpg`;\n      case 'mq':\n        return `https://img.youtube.com/vi/${ytId}/mqdefault.jpg`;\n      default:\n        return null;\n      }\n    }\n    return null;\n  }\n\n  getYouTubeEmbed(width = 350, height = 350) {\n    const ytId = this.getYouTubeId();\n    if (ytId) {\n      return `<iframe width=\"${width}\" height=\"${height}\" src=\"https://www.youtube.com/embed/${ytId}?rel=0&amp;controls=1&amp;showinfo=0\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>`;\n    }\n    return null;\n  }\n\n  getTwitterId() {\n    if (this.network === 'twitter') {\n      const regexp = /https?:\\/\\/twitter.com\\/[a-zA-Z_0-9]{1,20}\\/status\\/([0-9]*)/;\n      const match = regexp.exec(this.url);\n      const twitterId = match[1];\n      return twitterId;\n    }\n    return null;\n  }\n}\n\n/**\n * New validator to validate the schema\n */\n// const validator = new Validator(schema);\n\n/**\n * New object with proxy to control the setter and constructor\n */\n/* const ProxyMedia = validator.generateProxy(SocialMedia);\n\nexport default ProxyMedia; */\n\nexport default SocialMedia;\n"],"mappings":"odAAA,MAAOA,UAAP,KAAsB,oBAAtB,CACA,MAAOC,OAAP,KAAmB,iBAAnB,CACA,MAAOC,UAAP,KAAsB,oBAAtB,CAEA;AACA;AACA;AACA,GACA,GAAMC,MAAK,CAAG,CAAC,OAAD,CAAU,aAAV,CAAyB,OAAzB,CAAd,CAEA,GAAMC,QAAO,CAAG,CAAC,UAAD,CAAa,SAAb,CAAwB,WAAxB,CAAqC,aAArC,CAAoD,SAApD,CAAhB,CAEA;AACA;AACA;AACA,GACA,GAAMC,OAAM,CAAG,GAAIJ,OAAJ,CAAW,CACxBK,IAAI,CAAE,CACJA,IAAI,CAAEC,MADF,CAEJC,IAAI,CAAEL,KAFF,CADkB,CAKxBM,IAAI,CAAE,CACJH,IAAI,CAAEC,MADF,CALkB,CAQxBG,GAAG,CAAE,CACHJ,IAAI,CAAEC,MADH,CARmB,CAWxBI,OAAO,CAAE,CACPL,IAAI,CAAEC,MADC,CAXe,CAcxBK,WAAW,CAAE,CACXN,IAAI,CAAEC,MADK,CAEXC,IAAI,CAAEJ,OAFK,CAdW,CAAX,CAAf,CAoBA;AACA;AACA;AACA,G,GACMS,Y,0GACJ;AACF;AACA;AACA;AACA,KACE,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMT,MAAN,CAAc,OAAd,EACAU,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBG,OAAnB,CAA2B,SAACC,GAAD,CAAS,CAClC,MAAKA,GAAL,EAAYJ,KAAK,CAACI,GAAD,CAAjB,CACD,CAFD,EAFiB,aAKlB,CAED,a,oDAEA,uBAAe,CACb,GAAI,KAAKP,OAAL,GAAiB,SAArB,CAAgC,CAC9B,GAAMQ,OAAM,CAAG,6GAAf,CACA,GAAMC,MAAK,CAAGD,MAAM,CAACE,IAAP,CAAY,KAAKX,GAAjB,CAAd,CACA,GAAMY,KAAI,CAAGF,KAAK,CAAC,CAAD,CAAlB,CACA,MAAOE,KAAP,CACD,CACD,MAAO,KAAP,CACD,C,+BAED,0BAAgC,IAAhBC,QAAgB,2DAAN,IAAM,CAC9B,GAAMD,KAAI,CAAG,KAAKE,YAAL,EAAb,CACA,GAAIF,IAAJ,CAAU,CACR,OAAQC,OAAR,EACA,IAAK,MAAL,CACE,2CAAqCD,IAArC,uBACF,IAAK,IAAL,CACE,2CAAqCA,IAArC,mBACF,IAAK,IAAL,CACE,2CAAqCA,IAArC,mBACF,QACE,MAAO,KAAP,CARF,CAUD,CACD,MAAO,KAAP,CACD,C,+BAED,0BAA2C,IAA3BG,MAA2B,2DAAnB,GAAmB,IAAdC,OAAc,2DAAL,GAAK,CACzC,GAAMJ,KAAI,CAAG,KAAKE,YAAL,EAAb,CACA,GAAIF,IAAJ,CAAU,CACR,gCAAyBG,KAAzB,wBAA2CC,MAA3C,mDAAyFJ,IAAzF,2HACD,CACD,MAAO,KAAP,CACD,C,4BAED,uBAAe,CACb,GAAI,KAAKX,OAAL,GAAiB,SAArB,CAAgC,CAC9B,GAAMQ,OAAM,CAAG,8DAAf,CACA,GAAMC,MAAK,CAAGD,MAAM,CAACE,IAAP,CAAY,KAAKX,GAAjB,CAAd,CACA,GAAMiB,UAAS,CAAGP,KAAK,CAAC,CAAD,CAAvB,CACA,MAAOO,UAAP,CACD,CACD,MAAO,KAAP,CACD,C,yBA1DuBzB,S,EA6D1B;AACA;AACA,G,CACA;AAEA;AACA;AACA,G,CACA;AACA;AACA,6BAEA,cAAeW,YAAf"},"metadata":{},"sourceType":"module"}