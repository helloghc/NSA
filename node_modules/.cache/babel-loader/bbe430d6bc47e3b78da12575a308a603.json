{"ast":null,"code":"import _classCallCheck from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/mac/Desktop/sky/skyalert-New/node_modules/@babel/runtime/helpers/esm/createSuper.js\";/* Libraries */import React from'react';import showdown from'showdown';import moment from'moment';import{NavLink,withRouter}from'react-router-dom';import ApiController from'../../api/SkyAlertAPI';import SocialMedia from'../../models/SocialMedia';import{TwitterTweetEmbed}from'react-twitter-embed';import InstagramEmbed from'react-instagram-embed';import{FacebookProvider,EmbeddedPost}from'react-facebook';import strings from\"../../config/strings\";import ReactGA from'react-ga';import{Helmet}from'react-helmet';/* Components */import Author from'./Author';import Container from'./Container';import ImageBg from'./ImageBg';import HR from'./HR';import Title from'./Title';import Content from'./Content';import Source from'./Source';import ContentContainer from'./ContentContainer';import PublishAt from'./PublishAt';import FacebookContainer from'./FacebookContainer';import InstagramContainer from'./InstagramContainer';import ShareFB from'../ShareFB';import SocialContainer from'./SocialContainer';import TweetShare from'./TweetShare';import CommentsFB from'../CommentsFB';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SYSTEM=process.env.REACT_APP_COUNTRY||'MX';var LOCALE_MOMENT=process.env.REACT_APP_LANGUAGE||'es';var LOCALE_FB=SYSTEM==='US'?'en_US':'es_LA';var Api=new ApiController();var ArticleContent=/*#__PURE__*/function(_React$Component){_inherits(ArticleContent,_React$Component);var _super=_createSuper(ArticleContent);function ArticleContent(props){var _this;_classCallCheck(this,ArticleContent);_this=_super.call(this,props);_this.analyticsEvents=function(action,label){ReactGA.event({category:'News',action:action,label:label});};_this.state={author:'',article:[],relatedArticles:[],content:'',bgImage:false,bgVideo:false,videoYouTube:false,publishAt:'',display:false,source:false,sourceText:false,shareUrl:'',displayArticleContent:false,showAds:false};return _this;}_createClass(ArticleContent,[{key:\"componentDidMount\",value:function componentDidMount(){moment.locale(LOCALE_MOMENT);var params=new URLSearchParams(window.location.search);if(!params.get('subscription')){this.setState({showAds:true});}var pageView=window.location.pathname.replace('mobile-post','noticias');ReactGA.pageview(pageView);ReactGA.set({pageView:pageView});//console.log(this.props);\n//console.log(this.props.articleId);\nthis.getArticleDetail(this.props.articleId);//console.log(window.location.origin);\n//console.log(window.location.href);\n//this.setState({ shareUrl: window.location.href.replace('mobile-post', 'noticias') }, () => console.log(this.state.shareUrl));\n}},{key:\"getArticleDetail\",value:function getArticleDetail(articleId){var _this2=this;var news=strings().ROUTE.news;this.setState({isLoadingMoreABC:true});Api.getArticle(articleId).then(function(data){var article=data.article;var pageView=\"/\".concat(news,\"/\").concat(article.slug);// console.log(\"Facebook Comments\");\nvar shareUrl=\"\".concat(window.location.origin,\"/\").concat(news,\"/\").concat(article.slug);_this2.setState({shareUrl:shareUrl});if(article.display!==\"8\"){_this2.setState({displayArticleContent:true});}if(data.article.source===undefined||data.article.source===\"\"){_this2.setState({sourceText:false});}else{_this2.setState({sourceText:true});_this2.setState({source:data.article.source});}_this2.parseContent(data.article.content,data.article);article.media.map(function(mainMedia){var mediaArray=mainMedia;// console.log(mediaArray);\nif(mainMedia.type==='SocialMedia'){var document=mediaArray.document;//console.log(\"El objeto es:\");\n//console.log(document);\nvar media=new SocialMedia(document);var iframe=media.getYouTubeEmbed('100%','470px');_this2.setState({videoYouTube:iframe});//console.log('Media, iframe y state:')\n//console.log(media);\n//console.log(iframe);\n//console.log(this.state.videoYouTube);\n}});_this2.setState({article:data.article});if(_this2.state.article.headMedia){//Filter Media\n//console.log(\"Si existe headMedia\");\nvar dataHeadMedia=data.article.media.filter(function(object){return object.document._id==data.article.headMedia;});//console.log(dataHeadMedia[0].document);\n//Image Validation\nif(dataHeadMedia[0].type==='Image'){//console.log(dataHeadMedia[0].document)\n//console.log(\"Es headMedia image\");\nvar uri=ApiController.getPicURL(dataHeadMedia[0].document._id,'image');_this2.setState({bgImage:uri});}//Video Validation\nelse if(dataHeadMedia[0].type==='SocialMedia'){//console.log(\"Es headMedia video\");\nvar media=new SocialMedia(dataHeadMedia[0].document);var iframe=media.getYouTubeEmbed('100%','470px');//console.log(iframe);\n_this2.setState({bgVideo:iframe});}else{//console.log(\"No es ninguna\");\n}}else if(_this2.state.article.mainMedia){//Filter Media\nvar dataMainMedia=data.article.media.filter(function(object){return object.document._id==data.article.mainMedia.document;});//console.log(dataMainMedia[0].document);\n//Image Validation\nif(!dataMainMedia.length){//not found image main\n_this2.setState({bgImage:'/images/background-article.jpg'});}else{if(dataMainMedia[0].type==='Image'){//console.log(\"Es mainMedia image\");\nvar _uri=ApiController.getPicURL(_this2.state.article.mainMedia.document,'image');//console.log(uri)\n_this2.setState({bgImage:_uri});}//Video Validation\nelse if(dataMainMedia[0].type==='SocialMedia'){//console.log(\"Es mainMedia video\");\nvar _media=new SocialMedia(dataMainMedia[0].document);var _iframe=_media.getYouTubeEmbed('100%','470px');_this2.setState({bgVideo:_iframe});}else{//console.log(\"No es ninguna\");\n}}}if(_this2.state.article.author&&_this2.state.article.author.type==='author'){_this2.setState({author:_this2.state.article.author});}if(_this2.state.article.display){_this2.setState({display:_this2.state.article.display});}_this2.setState({publishAt:_this2.formatDate(_this2.state.article.publishAt)});_this2.getArticlesRelated(_this2.state.article._id);}).catch(function(err){console.log(err);_this2.props.history.push('/404');// Handle any error that occurred in any of the previous\n// promises in the chain.\n});;}},{key:\"getArticlesRelated\",value:function getArticlesRelated(articleId){var _this3=this;Api.getArticleRelated(articleId).then(function(data){_this3.setState({isLoadingMoreABC:false});_this3.setState(Object.assign({},_this3.state,{relatedArticles:data.articles}));});}},{key:\"formatDate\",value:function formatDate(date){return SYSTEM==='US'?moment(date).format('DD MMMM YYYY'):moment(date).format('DD [de] MMMM [de] YYYY');}},{key:\"parseContent\",value:/* eslint react/no-danger: 0 */function parseContent(){var _this4=this;var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var event=arguments.length>1?arguments[1]:undefined;var parse=function parse(string){var split=string.split('|');if(split.length===3){return{type:split[0],content:split};}return{type:'text',content:string};};// Content\nvar converter=new showdown.Converter();var toHtml=function toHtml(string){if(string){return converter.makeHtml(string);}return'';};var inject=function inject(item,index){switch(item.type){case'image':{var uri=ApiController.getPicURL(item.content[1],'image');return/*#__PURE__*/_jsx(\"img\",{width:\"100%\",src:uri,alt:\"\"},index);}case'socialmedia':if(event&&event.media){var mediaRaw=event.media.find(function(obj){return obj.document._id===item.content[1];});var media=new SocialMedia(mediaRaw.document||mediaRaw);var network=media.network;switch(network){case'youtube':{try{var iframe=media.getYouTubeEmbed('100%');return/*#__PURE__*/_jsx(\"div\",{className:\"youtubeVideo\",dangerouslySetInnerHTML:{__html:iframe},onClick:function onClick(){return _this4.analyticsEvents('Click element youtube on news','Play element video in youtube');}},index);}catch(e){return/*#__PURE__*/_jsx(\"div\",{},index);}}case'soundcloud':{try{var _iframe2=\"<iframe width=\\\"100%\\\" height=\\\"300\\\" scrolling=\\\"no\\\" frameborder=\\\"no\\\" allow=\\\"autoplay\\\" src=\\\"https://w.soundcloud.com/player/?url=\".concat(media.url,\"&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true\\\"></iframe>\");return/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:_iframe2},onClick:function onClick(){return _this4.analyticsEvents('Click element soundcloud on news','Play element sound in soundcloud');}},index);}catch(e){return/*#__PURE__*/_jsx(\"div\",{},index);}}case'twitter':{try{var id=media.getTwitterId();return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return _this4.analyticsEvents('Click element tweet on news ','Click element embed on twitter');},children:/*#__PURE__*/_jsx(TwitterTweetEmbed,{tweetId:id})},index);}catch(e){return/*#__PURE__*/_jsx(\"div\",{},index);}}case'instagram':{try{var url=media.url;return/*#__PURE__*/_jsx(InstagramContainer,{onClick:function onClick(){return _this4.analyticsEvents('Click element instagram on news ','Click element embed in instagram');},children:/*#__PURE__*/_jsx(InstagramEmbed,{url:url,maxWidth:500})},index);}catch(e){return/*#__PURE__*/_jsx(\"div\",{},index);}}case'facebook':{try{var _url=media.url;return/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:20},onClick:function onClick(){return _this4.analyticsEvents('Click element facebook on news ','Click element embed in facebook');},children:/*#__PURE__*/_jsx(FacebookContainer,{children:/*#__PURE__*/_jsx(FacebookProvider,{appId:\"881811818644187\",language:LOCALE_FB,children:/*#__PURE__*/_jsx(EmbeddedPost,{href:_url,width:\"auto\"})})})},index);}catch(e){return/*#__PURE__*/_jsx(\"div\",{},index);}}default:return/*#__PURE__*/_jsx(\"div\",{},index);}}return/*#__PURE__*/_jsx(\"div\",{},index);case'text':default:return/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:toHtml(item.content)}},index);}};var reg=/\\[([^\\]]+)\\]\\(\\$([^:]+):([^)]+)\\)/g;var replaced=content.replace(reg,'_ZZZ_$2|$3|$1_ZZZ_');var parsed=replaced.split('_ZZZ_').map(parse);var injected=parsed.map(inject);this.setState({content:injected});}},{key:\"renderTitle\",value:function renderTitle(){if(!this.state.bgImage||this.state.display!=='4'){if(this.state.article.altTitle){return/*#__PURE__*/_jsx(Title,{children:this.state.article.altTitle});}else{return/*#__PURE__*/_jsx(Title,{children:this.state.article.title});}}return null;}},{key:\"renderAltTitle\",value:function renderAltTitle(){if(this.state.article.altTitle){return/*#__PURE__*/_jsx(Title,{children:this.state.article.altTitle});}else{return/*#__PURE__*/_jsx(Title,{children:this.state.article.title});}}},{key:\"render\",value:function render(){var _this5=this;var marginBottom={marginBottom:20};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charset:\"utf-8\"}),/*#__PURE__*/_jsx(\"meta\",{\"http-equiv\":\"X-UA-Compatible\",content:\"IE=edge\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"type\",content:\"website\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"url\",content:this.state.shareUrl}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1, shrink-to-fit=no\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"title\",content:this.state.article.title}),/*#__PURE__*/_jsx(\"meta\",{property:\"description\",content:this.state.article.summary}),/*#__PURE__*/_jsx(\"meta\",{property:\"image\",content:this.state.bgImage}),/*#__PURE__*/_jsx(\"meta\",{name:\"robots\",content:\"NOODP\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:locale\",content:\"es_MX\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:type\",content:\"website\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:title\",content:this.state.article.title}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:description\",content:this.state.article.summary}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:image\",content:this.state.bgImage}),/*#__PURE__*/_jsx(\"meta\",{content:\"image/*\",property:\"og:image:type\"}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:url\",content:this.state.shareUrl}),/*#__PURE__*/_jsx(\"meta\",{property:\"og:site_name\",content:\"SkyAlert News MX\"})]}),this.state.displayArticleContent&&/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{children:[this.state.bgImage&&/*#__PURE__*/_jsx(ImageBg,{imageSrc:this.state.bgImage,children:this.state.display==='4'&&this.renderAltTitle()}),this.state.bgVideo&&/*#__PURE__*/_jsx(\"div\",{style:marginBottom,className:\"videoHeader\",dangerouslySetInnerHTML:{__html:this.state.bgVideo}}),/*#__PURE__*/_jsxs(ContentContainer,{children:[this.renderTitle(),/*#__PURE__*/_jsx(PublishAt,{children:this.state.publishAt}),this.state.author&&!this.props.stripedContent&&/*#__PURE__*/_jsx(NavLink,{strict:true,to:'/autor/'+this.state.article.author._id.slug,children:/*#__PURE__*/_jsx(Author,{name:this.state.article.author._id.name,slug:this.state.article.author._id.slug,image:this.state.article.author._id.pic.filename})}),this.state.author&&this.props.stripedContent&&/*#__PURE__*/_jsx(\"a\",{href:'http://author/'+this.state.article.author._id._id,children:/*#__PURE__*/_jsx(Author,{name:this.state.article.author._id.name,slug:this.state.article.author._id.slug,image:this.state.article.author._id.pic.filename})}),/*#__PURE__*/_jsx(Content,{children:this.state.content}),/*#__PURE__*/_jsx(Source,{children:this.state.sourceText&&\"\".concat(strings().ARTICLE.content.source,\" \").concat(this.state.source)}),/*#__PURE__*/_jsxs(SocialContainer,{children:[/*#__PURE__*/_jsx(ShareFB,{url:this.state.shareUrl,onPress:function onPress(){return _this5.analyticsEvents('Share by facebook',\"Share facebook - \".concat(_this5.state.article.title));}}),/*#__PURE__*/_jsx(TweetShare,{url:this.state.shareUrl,text:this.state.article.title,onPress:function onPress(){return _this5.analyticsEvents('Share by twitter',\"Share twitter - \".concat(_this5.state.article.title));}})]}),this.state.shareUrl&&/*#__PURE__*/_jsx(CommentsFB,{url:this.state.shareUrl})]}),/*#__PURE__*/_jsx(HR,{last:this.props.last})]})})]});}}]);return ArticleContent;}(React.Component);export default withRouter(ArticleContent);","map":{"version":3,"names":["React","showdown","moment","NavLink","withRouter","ApiController","SocialMedia","TwitterTweetEmbed","InstagramEmbed","FacebookProvider","EmbeddedPost","strings","ReactGA","Helmet","Author","Container","ImageBg","HR","Title","Content","Source","ContentContainer","PublishAt","FacebookContainer","InstagramContainer","ShareFB","SocialContainer","TweetShare","CommentsFB","SYSTEM","process","env","REACT_APP_COUNTRY","LOCALE_MOMENT","REACT_APP_LANGUAGE","LOCALE_FB","Api","ArticleContent","props","analyticsEvents","action","label","event","category","state","author","article","relatedArticles","content","bgImage","bgVideo","videoYouTube","publishAt","display","source","sourceText","shareUrl","displayArticleContent","showAds","locale","params","URLSearchParams","window","location","search","get","setState","pageView","pathname","replace","pageview","set","getArticleDetail","articleId","news","ROUTE","isLoadingMoreABC","getArticle","then","data","slug","origin","undefined","parseContent","media","map","mainMedia","mediaArray","type","document","iframe","getYouTubeEmbed","headMedia","dataHeadMedia","filter","object","_id","uri","getPicURL","dataMainMedia","length","formatDate","getArticlesRelated","catch","err","console","log","history","push","getArticleRelated","Object","assign","articles","date","format","parse","string","split","converter","Converter","toHtml","makeHtml","inject","item","index","mediaRaw","find","obj","network","__html","e","url","id","getTwitterId","marginBottom","reg","replaced","parsed","injected","altTitle","title","summary","renderAltTitle","renderTitle","stripedContent","name","pic","filename","ARTICLE","last","Component"],"sources":["/Users/mac/Desktop/sky/skyalert-New/src/components/ArticleContent/index.js"],"sourcesContent":["\r\n/* Libraries */\r\nimport React from 'react';\r\nimport showdown from 'showdown';\r\nimport moment from 'moment';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport ApiController from '../../api/SkyAlertAPI';\r\nimport SocialMedia from '../../models/SocialMedia';\r\nimport { TwitterTweetEmbed } from 'react-twitter-embed';\r\nimport InstagramEmbed from 'react-instagram-embed';\r\nimport { FacebookProvider, EmbeddedPost } from 'react-facebook';\r\nimport strings from \"../../config/strings\";\r\nimport ReactGA from 'react-ga';\r\nimport { Helmet } from 'react-helmet';\r\n\r\n/* Components */\r\nimport Author from './Author';\r\nimport Container from './Container';\r\nimport ImageBg from './ImageBg';\r\nimport HR from './HR';\r\nimport Title from './Title';\r\nimport Content from './Content';\r\nimport Source from './Source';\r\nimport ContentContainer from './ContentContainer';\r\nimport PublishAt from './PublishAt';\r\nimport FacebookContainer from './FacebookContainer';\r\nimport InstagramContainer from './InstagramContainer';\r\nimport ShareFB from '../ShareFB';\r\nimport SocialContainer from './SocialContainer';\r\nimport TweetShare from './TweetShare';\r\nimport CommentsFB from '../CommentsFB';\r\n\r\nconst SYSTEM = process.env.REACT_APP_COUNTRY || 'MX';\r\n\r\nconst LOCALE_MOMENT = process.env.REACT_APP_LANGUAGE || 'es';\r\nconst LOCALE_FB = SYSTEM === 'US' ? 'en_US' : 'es_LA';\r\nconst Api = new ApiController();\r\n\r\nclass ArticleContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            author: '',\r\n            article: [],\r\n            relatedArticles: [],\r\n            content: '',\r\n            bgImage: false,\r\n            bgVideo: false,\r\n            videoYouTube: false,\r\n            publishAt: '',\r\n            display: false,\r\n            source: false,\r\n            sourceText: false,\r\n            shareUrl: '',\r\n            displayArticleContent: false,\r\n            showAds: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        moment.locale(LOCALE_MOMENT);\r\n        const params = new URLSearchParams(window.location.search);\r\n        if (!params.get('subscription')) {\r\n            this.setState({ showAds: true });\r\n        }\r\n        const pageView = window.location.pathname.replace('mobile-post', 'noticias');\r\n        ReactGA.pageview(pageView);\r\n        ReactGA.set({ pageView });\r\n        //console.log(this.props);\r\n        //console.log(this.props.articleId);\r\n        this.getArticleDetail(this.props.articleId);\r\n        //console.log(window.location.origin);\r\n        //console.log(window.location.href);\r\n        //this.setState({ shareUrl: window.location.href.replace('mobile-post', 'noticias') }, () => console.log(this.state.shareUrl));\r\n    }\r\n\r\n\r\n    getArticleDetail(articleId) {\r\n        const { news } = strings().ROUTE;\r\n        this.setState({ isLoadingMoreABC: true });\r\n        Api.getArticle(articleId).then((data) => {\r\n\r\n            const article = data.article;\r\n            const pageView = `/${news}/${article.slug}`;\r\n            // console.log(\"Facebook Comments\");\r\n            const shareUrl = `${window.location.origin}/${news}/${article.slug}`;\r\n            this.setState({ shareUrl: shareUrl });\r\n            if (article.display !== \"8\") {\r\n                this.setState({ displayArticleContent: true })\r\n            }\r\n            if (data.article.source === undefined || data.article.source === \"\") {\r\n                this.setState({ sourceText: false })\r\n            } else {\r\n                this.setState({ sourceText: true })\r\n                this.setState({ source: data.article.source })\r\n            }\r\n\r\n            this.parseContent(data.article.content, data.article);\r\n            article.media.map((mainMedia) => {\r\n                const mediaArray = mainMedia;\r\n                // console.log(mediaArray);\r\n                if (mainMedia.type === 'SocialMedia') {\r\n                    const document = mediaArray.document;\r\n                    //console.log(\"El objeto es:\");\r\n                    //console.log(document);\r\n                    const media = new SocialMedia(document);\r\n                    const iframe = media.getYouTubeEmbed('100%', '470px');\r\n                    this.setState({ videoYouTube: iframe });\r\n                    //console.log('Media, iframe y state:')\r\n                    //console.log(media);\r\n                    //console.log(iframe);\r\n                    //console.log(this.state.videoYouTube);\r\n                }\r\n            });\r\n            this.setState({\r\n                article: data.article,\r\n            });\r\n\r\n            if (this.state.article.headMedia) {\r\n                //Filter Media\r\n                //console.log(\"Si existe headMedia\");\r\n                const dataHeadMedia = data.article.media.filter(object => object.document._id == data.article.headMedia);\r\n                //console.log(dataHeadMedia[0].document);\r\n                //Image Validation\r\n                if (dataHeadMedia[0].type === 'Image') {\r\n                    //console.log(dataHeadMedia[0].document)\r\n                    //console.log(\"Es headMedia image\");\r\n                    const uri = ApiController.getPicURL(dataHeadMedia[0].document._id, 'image');\r\n                    this.setState({ bgImage: uri });\r\n                }\r\n                //Video Validation\r\n                else if (dataHeadMedia[0].type === 'SocialMedia') {\r\n                    //console.log(\"Es headMedia video\");\r\n                    const media = new SocialMedia(dataHeadMedia[0].document);\r\n                    const iframe = media.getYouTubeEmbed('100%', '470px');\r\n                    //console.log(iframe);\r\n                    this.setState({ bgVideo: iframe });\r\n                }\r\n                else {\r\n                    //console.log(\"No es ninguna\");\r\n                }\r\n            }\r\n            else if (this.state.article.mainMedia) {\r\n                //Filter Media\r\n                const dataMainMedia = data.article.media.filter(object => object.document._id == data.article.mainMedia.document);\r\n                //console.log(dataMainMedia[0].document);\r\n                //Image Validation\r\n                if (!dataMainMedia.length) {\r\n                    //not found image main\r\n                    this.setState({ bgImage: '/images/background-article.jpg' });\r\n                } else {\r\n                    if (dataMainMedia[0].type === 'Image') {\r\n                        //console.log(\"Es mainMedia image\");\r\n                        const uri = ApiController.getPicURL(this.state.article.mainMedia.document, 'image');\r\n                        //console.log(uri)\r\n                        this.setState({ bgImage: uri });\r\n                    }\r\n                    //Video Validation\r\n                    else if (dataMainMedia[0].type === 'SocialMedia') {\r\n                        //console.log(\"Es mainMedia video\");\r\n                        const media = new SocialMedia(dataMainMedia[0].document);\r\n                        const iframe = media.getYouTubeEmbed('100%', '470px');\r\n                        this.setState({ bgVideo: iframe });\r\n                    }\r\n                    else {\r\n                        //console.log(\"No es ninguna\");\r\n                    }\r\n                }\r\n            }\r\n            if (this.state.article.author && this.state.article.author.type === 'author') {\r\n                this.setState({ author: this.state.article.author });\r\n            }\r\n\r\n            if (this.state.article.display) {\r\n                this.setState({ display: this.state.article.display });\r\n            }\r\n\r\n            this.setState({ publishAt: this.formatDate(this.state.article.publishAt) });\r\n            this.getArticlesRelated(this.state.article._id);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            this.props.history.push('/404');\r\n            // Handle any error that occurred in any of the previous\r\n            // promises in the chain.\r\n        });;\r\n    }\r\n    getArticlesRelated(articleId) {\r\n\r\n        Api.getArticleRelated(articleId).then(data => {\r\n            this.setState({ isLoadingMoreABC: false })\r\n            this.setState(\r\n                Object.assign({}, this.state, {\r\n                    relatedArticles: data.articles\r\n                })\r\n            )\r\n        })\r\n    }\r\n\r\n    formatDate(date) {\r\n        return SYSTEM === 'US' ? moment(date).format('DD MMMM YYYY') : moment(date).format('DD [de] MMMM [de] YYYY');\r\n    }\r\n\r\n    analyticsEvents = (action, label) => {\r\n        ReactGA.event({\r\n            category: 'News',\r\n            action,\r\n            label,\r\n        })\r\n    }\r\n\r\n    /* eslint react/no-danger: 0 */\r\n    parseContent(content = '', event) {\r\n        const parse = (string) => {\r\n            const split = string.split('|');\r\n            if (split.length === 3) {\r\n                return { type: split[0], content: split };\r\n            }\r\n            return { type: 'text', content: string };\r\n        };\r\n\r\n        // Content\r\n        const converter = new showdown.Converter();\r\n        const toHtml = (string) => {\r\n            if (string) {\r\n                return converter.makeHtml(string);\r\n            }\r\n            return '';\r\n        };\r\n\r\n        const inject = (item, index) => {\r\n            switch (item.type) {\r\n                case 'image': {\r\n                    const uri = ApiController.getPicURL(item.content[1], 'image');\r\n                    return (<img width=\"100%\" src={uri} key={index} alt=\"\" />);\r\n                }\r\n                case 'socialmedia':\r\n                    if (event && event.media) {\r\n                        const mediaRaw = event.media.find(obj => obj.document._id === item.content[1]);\r\n                        const media = new SocialMedia(mediaRaw.document || mediaRaw);\r\n                        const { network } = media;\r\n                        switch (network) {\r\n                            case 'youtube': {\r\n                                try {\r\n                                    const iframe = media.getYouTubeEmbed('100%');\r\n                                    return (<div className=\"youtubeVideo\" key={index} dangerouslySetInnerHTML={{ __html: iframe }} onClick={() => this.analyticsEvents('Click element youtube on news', 'Play element video in youtube')} />);\r\n                                } catch (e) {\r\n                                    return (<div key={index} />);\r\n                                }\r\n                            }\r\n                            case 'soundcloud': {\r\n                                try {\r\n                                    const iframe = `<iframe width=\"100%\" height=\"300\" scrolling=\"no\" frameborder=\"no\" allow=\"autoplay\" src=\"https://w.soundcloud.com/player/?url=${media.url}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true\"></iframe>`;\r\n                                    return (<div key={index} dangerouslySetInnerHTML={{ __html: iframe }} onClick={() => this.analyticsEvents('Click element soundcloud on news', 'Play element sound in soundcloud')} />);\r\n                                } catch (e) {\r\n                                    return (<div key={index} />);\r\n                                }\r\n                            }\r\n                            case 'twitter': {\r\n                                try {\r\n                                    const id = media.getTwitterId();\r\n                                    return (<div key={index} onClick={() => this.analyticsEvents('Click element tweet on news ', 'Click element embed on twitter')}><TwitterTweetEmbed tweetId={id} /></div>);\r\n                                } catch (e) {\r\n                                    return (<div key={index} />);\r\n                                }\r\n                            }\r\n                            case 'instagram': {\r\n                                try {\r\n                                    const { url } = media;\r\n                                    return (\r\n                                        <InstagramContainer key={index} onClick={() => this.analyticsEvents('Click element instagram on news ', 'Click element embed in instagram')}>\r\n                                            <InstagramEmbed\r\n                                                url={url}\r\n                                                maxWidth={500}\r\n                                            />\r\n                                        </InstagramContainer>\r\n                                    );\r\n                                } catch (e) {\r\n                                    return (<div key={index} />);\r\n                                }\r\n                            }\r\n                            case 'facebook': {\r\n                                try {\r\n                                    const { url } = media;\r\n                                    return (\r\n                                        <div\r\n                                            style={{ marginBottom: 20 }}\r\n                                            key={index} onClick={() => this.analyticsEvents('Click element facebook on news ', 'Click element embed in facebook')}>\r\n                                            <FacebookContainer>\r\n                                                <FacebookProvider appId=\"881811818644187\" language={LOCALE_FB}>\r\n                                                    <EmbeddedPost href={url} width=\"auto\" />\r\n                                                </FacebookProvider>\r\n                                            </FacebookContainer>\r\n                                        </div>\r\n                                    );\r\n                                } catch (e) {\r\n                                    return (<div key={index} />);\r\n                                }\r\n                            }\r\n                            default:\r\n                                return (<div key={index} />);\r\n                        }\r\n                    }\r\n                    return (<div key={index} />);\r\n                case 'text':\r\n                default:\r\n                    return (<p key={index} dangerouslySetInnerHTML={{ __html: toHtml(item.content) }} />);\r\n            }\r\n        };\r\n\r\n        const reg = /\\[([^\\]]+)\\]\\(\\$([^:]+):([^)]+)\\)/g;\r\n        const replaced = content.replace(reg, '_ZZZ_$2|$3|$1_ZZZ_');\r\n        const parsed = replaced.split('_ZZZ_').map(parse);\r\n        const injected = parsed.map(inject);\r\n\r\n        this.setState({ content: injected });\r\n    }\r\n\r\n    renderTitle() {\r\n        if (!this.state.bgImage || this.state.display !== '4') {\r\n\r\n            if (this.state.article.altTitle) {\r\n                return (\r\n                    <Title>{this.state.article.altTitle}</Title>\r\n                );\r\n            }\r\n            else {\r\n                return (\r\n                    <Title>{this.state.article.title}</Title>\r\n                );\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    renderAltTitle() {\r\n        if (this.state.article.altTitle) {\r\n            return (\r\n                <Title>{this.state.article.altTitle}</Title>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <Title>{this.state.article.title}</Title>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const marginBottom = {\r\n            marginBottom: 20\r\n        }\r\n        return (\r\n            <div>\r\n                <Helmet>\r\n                    <meta charset=\"utf-8\" />\r\n                    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n                    <meta property=\"type\" content=\"website\" />\r\n                    <meta property=\"url\" content={this.state.shareUrl} />\r\n                    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n                    <meta property=\"title\" content={this.state.article.title} />\r\n                    <meta property=\"description\" content={this.state.article.summary} />\r\n                    <meta property=\"image\" content={this.state.bgImage} />\r\n                    <meta name=\"robots\" content=\"NOODP\" />\r\n                    <meta property=\"og:locale\" content=\"es_MX\" />\r\n                    <meta property=\"og:type\" content=\"website\" />\r\n                    <meta property=\"og:title\" content={this.state.article.title} />\r\n                    <meta property=\"og:description\" content={this.state.article.summary} />\r\n                    <meta property=\"og:image\" content={this.state.bgImage} />\r\n                    <meta content=\"image/*\" property=\"og:image:type\" />\r\n                    <meta property=\"og:url\" content={this.state.shareUrl} />\r\n                    <meta property=\"og:site_name\" content=\"SkyAlert News MX\" />\r\n                </Helmet>\r\n                {\r\n                    this.state.displayArticleContent &&\r\n                    <Container>\r\n                        <div>\r\n                            {this.state.bgImage &&\r\n                                <ImageBg imageSrc={this.state.bgImage}>\r\n                                    {this.state.display === '4' &&\r\n                                        this.renderAltTitle()\r\n                                    }\r\n                                </ImageBg>\r\n                            }\r\n                            {this.state.bgVideo &&\r\n                                <div style={marginBottom} className=\"videoHeader\" dangerouslySetInnerHTML={{ __html: this.state.bgVideo }} />\r\n                            }\r\n\r\n                            <ContentContainer>\r\n                                {\r\n                                    this.renderTitle()\r\n                                }\r\n                                <PublishAt>{this.state.publishAt}</PublishAt>\r\n                                {(this.state.author && !this.props.stripedContent) &&\r\n                                    <NavLink strict to={'/autor/' + this.state.article.author._id.slug}>\r\n                                        <Author\r\n                                            name={this.state.article.author._id.name}\r\n                                            slug={this.state.article.author._id.slug}\r\n                                            image={this.state.article.author._id.pic.filename}\r\n                                        />\r\n                                    </NavLink>\r\n                                }\r\n                                {(this.state.author && this.props.stripedContent) &&\r\n                                    <a href={'http://author/' + this.state.article.author._id._id}>\r\n                                        <Author\r\n                                            name={this.state.article.author._id.name}\r\n                                            slug={this.state.article.author._id.slug}\r\n                                            image={this.state.article.author._id.pic.filename}\r\n                                        />\r\n                                    </a>\r\n                                }\r\n                                <Content>\r\n                                    {this.state.content}\r\n                                </Content>\r\n                                <Source>{this.state.sourceText &&\r\n                                    `${strings().ARTICLE.content.source} ${this.state.source}`\r\n                                }</Source>\r\n\r\n                                <SocialContainer>\r\n                                    <ShareFB\r\n                                        url={this.state.shareUrl}\r\n                                        onPress={() => this.analyticsEvents('Share by facebook', `Share facebook - ${this.state.article.title}`)}\r\n                                    />\r\n                                    <TweetShare\r\n                                        url={this.state.shareUrl}\r\n                                        text={this.state.article.title}\r\n                                        onPress={() => this.analyticsEvents('Share by twitter', `Share twitter - ${this.state.article.title}`)}\r\n                                    />\r\n                                </SocialContainer>\r\n                                {\r\n                                    this.state.shareUrl &&\r\n                                    <CommentsFB url={this.state.shareUrl} />\r\n                                }\r\n\r\n\r\n                            </ContentContainer>\r\n                            <HR last={this.props.last} />\r\n                        </div>\r\n                    </Container>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(ArticleContent);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}